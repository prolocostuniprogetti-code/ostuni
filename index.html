<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ostuni Interattiva</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'ostuni-blue': '#1e40af', // Blu più scuro e istituzionale
                        'ostuni-light-blue': '#3b82f6', // Blu brillante per l'accento
                        'ostuni-white': '#fefefe', // Bianco candido
                        'ostuni-grey': '#e5e7eb', // Grigio chiaro per sfondo/bordi
                    }
                }
            }
        }
    </script>
    <style>
        /* Stile di base e font */
        body {
            background-color: #f3f4f6;
            font-family: 'Inter', sans-serif;
        }
        .icon {
            width: 20px;
            height: 20px;
        }
        /* Classe per animazione fluida dei contenuti */
        .content-transition-active {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            opacity: 1;
            transform: translateY(0);
        }
        .content-transition-inactive {
            opacity: 0;
            transform: translateY(10px);
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div id="app" class="max-w-4xl mx-auto bg-ostuni-white shadow-2xl rounded-xl overflow-hidden">
        
        <header class="bg-ostuni-blue text-ostuni-white p-6 rounded-t-xl">
            <h1 class="text-3xl font-extrabold text-center tracking-tight">OSTUNI: La Città Bianca</h1>
            <p class="text-center mt-1 text-sm opacity-90">Esplora le meraviglie di Ostuni e dei suoi dintorni in modo interattivo.</p>
        </header>

        <nav id="nav-tabs" class="flex flex-wrap justify-center border-b border-ostuni-grey bg-white p-2">
            </nav>

        <main id="content-area" class="p-4 sm:p-6 bg-ostuni-white min-h-[400px]">
            <div id="loading-message" class="text-center p-10 text-gray-500">Caricamento delle attrazioni...</div>
            <div id="section-content" class="content-transition-inactive"></div>
        </main>
        
        <footer class="bg-gray-100 p-4 text-center text-xs text-gray-500 rounded-b-xl">
            Scegli una sezione e scopri i dettagli!
        </footer>
    </div>

    <script>
        // --- Dati delle Attrazioni ---
        const attrazioni = [
            {
                id: 'centro',
                nome: 'Centro Storico',
                icon: '<svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>',
                descrizione: 'Il cuore pulsante di Ostuni, un labirinto di vicoli bianchi e storici che conducono ai principali monumenti.',
                elementi: [
                    { titolo: 'Cattedrale di Santa Maria Assunta', dettaglio: 'Famosa per il suo maestoso rosone gotico a 24 raggi sulla sommità del colle.' },
                    { titolo: 'Arco Scoppa', dettaglio: 'Un elegante ponte in pietra che unisce il Palazzo Vescovile e il Seminario.' },
                    { titolo: 'Casa con la Porta Blu', dettaglio: 'L\'angolo più instagrammato della città, con la sua porta colorata che spicca sul bianco.' },
                    { titolo: 'Mura Aragonesi', dettaglio: 'Antiche fortificazioni che circondano il centro, offrendo panorami mozzafiato sulla piana degli ulivi.' }
                ]
            },
            {
                id: 'mare',
                nome: 'Costa e Spiagge',
                icon: '<svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>',
                descrizione: 'La costa di Ostuni è Bandiera Blu. Un litorale vario che offre sia spiagge sabbiose che calette rocciose.',
                elementi: [
                    { titolo: 'Rosa Marina', dettaglio: 'Una rinomata località turistica con ampie spiagge libere e attrezzate.' },
                    { titolo: 'Torre Guaceto (Riserva)', dettaglio: 'Area marina protetta, ideale per snorkeling e immersioni. Meraviglioso ecosistema.' }
                ]
            },
            {
                id: 'dintorni',
                nome: 'Dintorni e Natura',
                icon: '<svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>',
                descrizione: 'Esplora la Piana degli Ulivi Millenari e i siti archeologici appena fuori città.',
                elementi: [
                    { titolo: 'Parco delle Dune Costiere', dettaglio: 'Percorsi naturalistici tra ulivi secolari e macchia mediterranea.' },
                    { titolo: 'Masseria Brancati', dettaglio: 'Una masseria storica che ospita uno degli ulivi più antichi della regione.' }
                ]
            }
        ];

        // --- Funzioni per l'Interazione ---
        const navTabs = document.getElementById('nav-tabs');
        const contentArea = document.getElementById('section-content');
        const loadingMessage = document.getElementById('loading-message');
        let currentActiveTab = null;

        /**
         * Genera il contenuto HTML per la sezione selezionata
         * @param {object} sezione - L'oggetto attrazione da visualizzare
         */
        function generateContentHTML(sezione) {
            let html = <h2 class="text-2xl font-bold mb-4 text-ostuni-blue">${sezione.nome}</h2>;
            html += <p class="mb-6 text-gray-700 italic">${sezione.descrizione}</p>;
            
            sezione.elementi.forEach(el => {
                html += `
                    <div class="mb-4 p-4 border-l-4 border-ostuni-light-blue bg-ostuni-grey rounded-r-lg shadow-sm">
                        <h3 class="font-semibold text-lg text-gray-800">${el.titolo}</h3>
                        <p class="text-sm text-gray-600">${el.dettaglio}</p>
                    </div>
                `;
            });
            return html;
        }

        /**
         * Gestisce la logica di cambio sezione
         * @param {string} id - L'ID dell'attrazione da visualizzare
         */
        function changeSection(id) {
            const sezione = attrazioni.find(a => a.id === id);
            if (!sezione) return;

            // Rimuovi la classe attiva dal vecchio tab
            if (currentActiveTab) {
                currentActiveTab.classList.remove('bg-ostuni-light-blue', 'text-ostuni-white');
                currentActiveTab.classList.add('hover:bg-ostuni-grey');
            }

            // Aggiungi la classe attiva al nuovo tab
            const newActiveTab = document.querySelector(#tab-${id});
            if (newActiveTab) {
                newActiveTab.classList.remove('hover:bg-ostuni-grey');
                newActiveTab.classList.add('bg-ostuni-light-blue', 'text-ostuni-white');
                currentActiveTab = newActiveTab;
            }

            // Animazione e cambio contenuto
            contentArea.classList.add('content-transition-inactive');
            contentArea.classList.remove('content-transition-active');
            
            setTimeout(() => {
                contentArea.innerHTML = generateContentHTML(sezione);
                contentArea.classList.remove('content-transition-inactive');
                contentArea.classList.add('content-transition-active');
            }, 300); // Ritardo per l'animazione
        }

        /**
         * Inizializza l'applicazione: genera i tab e carica il primo contenuto
         */
        function initApp() {
            loadingMessage.style.display = 'none';

            // 1. Genera i bottoni delle tab
            attrazioni.forEach(attrazione => {
                const button = document.createElement('button');
                button.id = tab-${attrazione.id};
                button.className = 'flex items-center space-x-2 py-2 px-4 mx-1 my-1 rounded-full text-sm font-medium text-gray-700 transition duration-150 ease-in-out hover:bg-ostuni-grey';
                button.innerHTML = attrazione.icon + <span>${attrazione.nome}</span>;
                button.onclick = () => changeSection(attrazione.id);
                navTabs.appendChild(button);
            });

            // 2. Carica la sezione di default (il primo elemento)
            if (attrazioni.length > 0) {
                changeSection(attrazioni[0].id);
            }
        }

        // Avvia l'app al caricamento della pagina
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
